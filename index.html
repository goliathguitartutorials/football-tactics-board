<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/football-tactics-board/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Football Tactics Board</title>
    <!-- Start Single Page Apps for GitHub Pages -->
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // MIT License
      // https://github.com/rafgraph/spa-github-pages
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>
    <!-- End Single Page Apps for GitHub Pages -->
    <style>
      #debug-info {
        position: fixed;
        top: 10px;
        left: 10px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 10px;
        border-radius: 5px;
        font-family: monospace;
        z-index: 9999;
        max-width: 80%;
        overflow: auto;
        max-height: 80%;
      }
    </style>
  </head>
  <body>
    <div id="debug-info">
      <h2>Debug Info</h2>
      <div id="debug-location"></div>
      <div id="debug-paths"></div>
      <div id="debug-root-found"></div>
      <div id="debug-script-load"></div>
      <div id="debug-resources"></div>
    </div>
    <div id="root"></div>
    <script>
      // Immediate debug info that runs before any other scripts
      try {
        document.getElementById("debug-location").innerHTML = "<p><strong>URL:</strong> " + window.location.href + "</p>";
        document.getElementById("debug-paths").innerHTML = "<p><strong>Path:</strong> " + window.location.pathname + "</p>";
        document.getElementById("debug-root-found").innerHTML = "<p><strong>Root element exists:</strong> " + (document.getElementById("root") !== null) + "</p>";
        
        // Check if main script path should include base
        var scriptElement = document.querySelector('script[type="module"]');
        document.getElementById("debug-script-load").innerHTML = "<p><strong>Script src:</strong> " + (scriptElement ? scriptElement.getAttribute('src') : 'No script found') + "</p>";
        
        // Create a list of all resources being loaded
        var resources = Array.from(document.querySelectorAll('script, link')).map(el => {
          var src = el.getAttribute('src') || el.getAttribute('href');
          return el.tagName + ': ' + src;
        }).join('<br>');
        
        document.getElementById("debug-resources").innerHTML = "<p><strong>Resources:</strong><br>" + resources + "</p>";
      } catch(e) {
        document.getElementById("debug-info").innerHTML += "<p><strong>Error:</strong> " + e.message + "</p>";
      }
      
      // Add event listener to detect if main script fails to load
      window.addEventListener('error', function(e) {
        if (e.target.tagName === 'SCRIPT') {
          document.getElementById("debug-info").innerHTML += "<p><strong>Script load error:</strong> " + e.target.src + "</p>";
        }
      }, true);
    </script>
    <script type="module" src="/football-tactics-board/src/main.jsx"></script>
  </body>
</html>
